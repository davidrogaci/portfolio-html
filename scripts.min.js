const isLocalStorageSupported=()=>{try{let e="__storage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}},themeToggle=document.querySelector(".theme-toggle"),prefersDarkScheme=window.matchMedia("(prefers-color-scheme: dark)");function setTheme(e){e&&(document.documentElement.setAttribute("data-theme",e),isLocalStorageSupported()&&localStorage.setItem("theme",e))}function toggleTheme(){if(!themeToggle)return;let e=document.documentElement.getAttribute("data-theme");setTheme("dark"===e?"light":"dark")}function initializeTheme(){if(!themeToggle)return;let e=null;isLocalStorageSupported()&&(e=localStorage.getItem("theme")),e?setTheme(e):prefersDarkScheme.matches?setTheme("dark"):setTheme("light")}themeToggle&&themeToggle.addEventListener("click",toggleTheme),prefersDarkScheme&&prefersDarkScheme.addEventListener("change",e=>{isLocalStorageSupported()&&localStorage.getItem("theme")||setTheme(e.matches?"dark":"light")}),initializeTheme();const mobileMenuButton=document.querySelector(".mobile-menu-button"),navLinks=document.querySelector(".nav-links");mobileMenuButton&&navLinks&&mobileMenuButton.addEventListener("click",()=>{let e="true"===mobileMenuButton.getAttribute("aria-expanded");mobileMenuButton.setAttribute("aria-expanded",!e),navLinks.classList.toggle("active")});const sections=document.querySelectorAll("section[id]"),navItems=document.querySelectorAll(".nav-link");if(sections.length&&navItems.length){let e={root:null,rootMargin:"0px",threshold:.5},t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){let t=e.target.getAttribute("id");navItems.forEach(e=>{let r=e.getAttribute("href").substring(1);r===t?e.setAttribute("aria-current","page"):e.removeAttribute("aria-current")})}})},e);sections.forEach(e=>{t.observe(e)})}const nav=document.querySelector(".main-nav");nav&&window.addEventListener("scroll",()=>{window.scrollY>0?(nav.classList.add("scrolled"),navLinks&&navLinks.classList.add("scrolled")):(nav.classList.remove("scrolled"),navLinks&&navLinks.classList.remove("scrolled"))});