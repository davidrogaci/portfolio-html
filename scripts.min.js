const isLocalStorageSupported=()=>{try{let e="__storage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return console.warn("localStorage no est\xe1 disponible:",t),!1}},themeConfig={toggle:document.querySelector(".theme-toggle"),prefersDarkScheme:window.matchMedia("(prefers-color-scheme: dark)"),themes:{light:"light",dark:"dark"}};function setTheme(e){if(!e||!Object.values(themeConfig.themes).includes(e)){console.error("Tema inv\xe1lido:",e);return}try{document.documentElement.setAttribute("data-theme",e),isLocalStorageSupported()&&localStorage.setItem("theme",e)}catch(t){console.error("Error al establecer el tema:",t)}}function toggleTheme(){if(!themeConfig.toggle){console.warn("Bot\xf3n de cambio de tema no encontrado");return}try{let e=document.documentElement.getAttribute("data-theme"),t=e===themeConfig.themes.dark?themeConfig.themes.light:themeConfig.themes.dark;setTheme(t)}catch(r){console.error("Error al cambiar el tema:",r)}}function initializeTheme(){if(themeConfig.toggle)try{let e=null;isLocalStorageSupported()&&(e=localStorage.getItem("theme")),e&&Object.values(themeConfig.themes).includes(e)?setTheme(e):themeConfig.prefersDarkScheme.matches?setTheme(themeConfig.themes.dark):setTheme(themeConfig.themes.light)}catch(t){console.error("Error al inicializar el tema:",t),setTheme(themeConfig.themes.light)}}document.addEventListener("DOMContentLoaded",()=>{initializeTheme(),themeConfig.toggle&&themeConfig.toggle.addEventListener("click",toggleTheme),themeConfig.prefersDarkScheme.addEventListener("change",e=>{localStorage.getItem("theme")||setTheme(e.matches?themeConfig.themes.dark:themeConfig.themes.light)})});const mobileMenuButton=document.querySelector(".mobile-menu-button"),navLinks=document.querySelector(".nav-links");mobileMenuButton&&navLinks&&mobileMenuButton.addEventListener("click",()=>{let e="true"===mobileMenuButton.getAttribute("aria-expanded");mobileMenuButton.setAttribute("aria-expanded",!e),navLinks.classList.toggle("active")});const sections=document.querySelectorAll("section[id]"),navItems=document.querySelectorAll(".nav-link");if(sections.length&&navItems.length){let e={root:null,rootMargin:"0px",threshold:.5},t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){let t=e.target.getAttribute("id");navItems.forEach(e=>{let r=e.getAttribute("href").substring(1);r===t?e.setAttribute("aria-current","page"):e.removeAttribute("aria-current")})}})},e);sections.forEach(e=>{t.observe(e)})}